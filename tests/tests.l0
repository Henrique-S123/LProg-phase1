Basic operations + Let

let x = 1;
  (x + 1);;

(let x = 1; (x + 1)) * (let x = 2; (x + 3))

let x = 1;
  let y = 2;
  (x + y)
;;

let x = 2;
let z = x+2;
let k = (let x = z+2; x*x);
k+k;;

let y = 1;
let b = (y > 0) && (y <= 20);
let z = (let z = 2*y;  z*z);
b || ~ (z < 0)

Functions

let x = 1;
let f = fn y => { x + y };
(x + f (2));;

let x=1 ;			 
let f = fn y => { y+x } ;
let g = fn x => { x+f(x) };
g(2) 
;;

let f = fn g,z => { g (z) };
f (fn z => { z*2 }) (7)
;;

(fn z => { fn t => { z*t }}) (7) (7);;


(fn z,t => { z*t }) (7) (7);;

let x=1 ;			 
let f = fn y => {
           let k = x*2;
	   y+x*k
        };
let g = fn x, u =>
           { u(x) + f(x) };
g  (f(3)) (f) 
;;

let comp = fn f, g => 
        { fn x =>
        { f (g (x)) }};
let inc = fn x => { x + 1};
let dup = fn x => { 2 * x};
let c2 = comp (inc) (dup);
c2 (99)
;;

Lists

# let sum = fn list => {
match list {
| nil -> 0 | v::tail -> v + sum(tail)}
};
let myL = 1::(2::(3::(4::(5::nil))));
sum(myL);;
# 15

Lazy Lists

let fibo = fn a,b => {a:?(fibo (b) (a+b))};
let fibogen = fibo (0) (1);
let count = box 20;
let lv = box(fibogen);
while (*count ~= 0) {
match *lv {
| nil -> print("never happens")
| v::tail -> println(v); lv := tail};
count := *count - 1};;
